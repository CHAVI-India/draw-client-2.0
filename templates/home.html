{% extends 'base.html' %}

{% block title %}DRAW v2.0 - Automatic Segmentation{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Hero Section -->
    <div class="text-center py-16">
        <h1 class="text-6xl font-bold text-gray-900 mb-6">
            DRAW- Client System
        </h1>
        <p class="text-xl text-gray-600 mb-4 max-w-6xl mx-auto">
            Deep Learning based Radiotherapy Autosegmentation Workflow (DRAW) provides users with a highly flexible and customizable automatic segmentation solution to be used for Radiotherapy. This Client System handles the DICOM data transfer and RT Structure Set retrieval from the server.
        </p>
        
        <!-- Caution Section -->
        <div class="bg-red-50 border border-red-200 rounded-lg p-6 mb-2 max-w-6xl mx-auto text-left">
            <div class="flex items-start">
                <div class="flex-shrink-0 mr-6">
                    <svg class="w-12 h-12 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <div>
                    <p class="text-red-700 text-sm leading-relaxed">
                        AI based automatic segmentation can make mistakes. All contours generated using the DRAW autosegmentation system should be checked carefully by experienced personnel before approval. The final approval and responsibility rests with the treating oncologist. The DRAW system or its developers assume no liability from the use of the system and any errors arising out of the use of autosegmentation generated contours.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-8 mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-6">Quick Actions</h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
            {% if perms.dicom_handler.add_autosegmentationtemplate %}
            <a href="{% url 'dicom_handler:create_template' %}" class="flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group">
                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-green-200 transition-colors">
                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                </div>
                <div class="text-left">
                    <div class="font-medium text-gray-900">Create Template</div>
                    <div class="text-sm text-gray-500">Setup segmentation model</div>
                </div>
            </a>
            {% endif %}

            {% if perms.dicom_handler.add_ruleset %}
            <a href="{% url 'dicom_handler:ruleset_create' %}" class="flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group">
                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-purple-200 transition-colors">
                    <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                    </svg>
                </div>
                <div class="text-left">
                    <div class="font-medium text-gray-900">Create Ruleset</div>
                    <div class="text-sm text-gray-500">Define processing rules</div>
                </div>
            </a>
            {% endif %}

            {% if perms.dicom_handler.view_systemconfiguration %}
            <a href="{% url 'dicom_handler:system_configuration' %}" class="flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group">
                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-blue-200 transition-colors">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <div class="text-left">
                    <div class="font-medium text-gray-900">System Configuration</div>
                    <div class="text-sm text-gray-500">Configure system settings</div>
                </div>
            </a>
            {% endif %}

                
            {% if perms.dicom_handler.view_dicomseries %}
            <a href="{% url 'dicom_handler:series_processing_status' %}" class="flex items-center p-4 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group">
                <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-orange-200 transition-colors">
                    <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <div class="text-left">
                    <div class="font-medium text-gray-900">Processing Status</div>
                    <div class="text-sm text-gray-500">Monitor DICOM processing</div>
                </div>
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
